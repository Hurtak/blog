# TODO

## NEXT RELEASE
- break snippets into database or have it as static file? or both when we are displaying whole snippet?

- 1 get snippet data
- 2 parse snippet data
- 3 save snippet data
- 4 write snippet data in templates
- 5 js snippet tool will display data

- have snippets CSS of snippets ability to turn off decoration styles
  - for example we are showing some css layout, but we also need to add some background color to the layout parts so it's easily reckognizable, but for the layout itself, which is what this example is about, the colors/paddings are not important. So having the ability to turn off these snippet decoration styles would be nice

- code snippet tool
  - show css / html / js / result
  - be able to resize
  - also have a way to put code in page for people just to play with, not to take a look how it was done? like lorem ipsum generator would be the type of snippe which would be just used instead of inspected how it was done. On the other hand, some css layout example would be useful to have easily avaliable button to show what is the html / css, and also way to resize
  - have a way to display example fullscreen like kod.jecas.cz?
  - chapter about this into components

- finish CSS design
  - page header
  - article header
  - articles list page
  - footer
  - inspiration
    - https://media-mediatemple.netdna-ssl.com/wp-content/uploads/2016/07/Material-I-II-opt.jpg
    - https://media-mediatemple.netdna-ssl.com/wp-content/uploads/2016/07/uefa-euro2016-belgium-opt.jpg
    - https://www.google.cz/search?hl=cs&tbm=isch&sa=1&q=mirrors+edge+interior
    - https://99designs.com.au/tech-blog/blog/2015/10/26/aws-vault/
- buy domains
- put this damn thing on the internet
- add comments
- add google analytics

## FUTURE RELEASES
- General
  - write README.md
  - sitemap
  - take a look at medium, what components they use in articles
  - fine tune humans.txt
  - run blog through
    - CSS and HTML validator
    - use some tool to detect unused styles
  - consider unification of quotes (html ", js ')
  - consider unification of coding style across technologies (camelCase JS, underscore_case MySQL, dash-case CSS)
  - take a look at ponyfoo.com for performance ideas
  - revisit package.json
  - progressively enhanced tweet quotations
  - consider having install script which would create www/ www/log/ and others, instead of having these folders in git with .gitkeep
  - tags to articles
  - projects page
  - consider taking a look at some HTML elements and putting them in components article and using them
    - dl (dt dd)
    - date
    - hr, something like medium?
    - kbd
    - q (quotes: none; or have our own quotes with ::after and ::before, if we would have our own quotes, add note into typography chapter of components article)
    - abbr (http://www.w3schools.com/bootstrap/tryit.asp?filename=trybs_txt_abbr&stacked=h)
    - small
    - itemprop attribute
  - about page
  - add search with suggest box
  - add aria stuff and accessibility stuff, also add that accessibility menu when you press tab
  - link to github/twitter
  - decide what categories to use in commit messages
  - check if we are not using sync (readFileSync) functions anywhere
  - cron job to test
    - automatically git fetch changes and update new articles
  - think of how to unify scripts between package.json, scripts/ and .travis.yml
  - think of a ways how to unify debug mode with production mode

- CI
  - consider switching to some other ci tool (https://github.com/integrations), seems like Travis is not supporting multiple tasks
  - read docs https://docs.travis-ci.com/user/languages/javascript-with-nodejs (notifications when it fails?)
  - have CI job which will run all article validity checks
  - check if article links are not 404
  - check if other page links are not 404
  - if all pages are html valid
  - npm outdated check
  - https://www.npmjs.com/package/sloc-for-jenkins
  - move npm run lint in something like before_script?

- Articles
  - currently html of code blocks is parsed and we cannot get raw html? so `<h2>` will become `<h2></h2>`, maybe switch to jsdom?
  - add gradient overlay on code blocks that overflow to y
  - in parseArticle function have functions which checks article for correctness
    - check if paragraphs start with capital letter and end with dot
    - check of headings start with capital letter
    - check YAML header for correctness
    - check that all relative url's start with `./` (or do not start with)
    - maybe refactor this into separate module?
    - maybe when checking html, when we find error -> add console.log describing the error
  - post all articles to hacker news, reddit, twitter
    - provide links under article to hacker news and twitter discussion
    - have these links saved in front matter
    - have cron job which determines number of comments on giver articles
    - display number of comments under
  - do not compile articles manually with script, compile them on the fly when requested
    - measure how long this takes
    - if it takes > 5ms, wrap the whole thing in caching function which will just save the result into file
  - add checks in upload script so it checks if
    - url's are unique
    - id's are unique
    - directory month/year fits the publication date directories
  - flatten directory structure, just use years directories
  - add rel="noopener" to links to other domains
    - https://jakearchibald.com/2016/performance-benefits-of-rel-noopener/
    - write article about this
  - refactor styles
  - add article footer with
    - share on twitter and facebook
    - edit this article on github
      - or maybe what could be really cool would be if there was live edit and anyone could submit edit
    - similar articles and next article
  - refactor upload script, put id into articles so we have truly unique identificator?
  - parse article function uses readFileSync, rewrite to use promises/cb
  - replace @see links in code with my own articles

- Backend
  - when mysql server is not running, console log error and display 500
  - figure out how to do dev/production enviroment
    - right now we have /debug prefix for articles, but determining based on the enviroment variables would be better
      - enviroment variable for debug mode
    - displaying of hidden articles could be with secred query parameter
  - https
  - pretty 500 page, figure out how to do this in express
  - https://www.sitepoint.com/how-to-create-a-node-js-cluster-for-speeding-up-your-apps/
  - fork processes to number of processors http://shapeshed.com/uncaught-exceptions-in-node/
  - database
    - COLLATE=utf8_czech_ci; -> use something for english
    - mediumtext type for article html, what is it?
    - is the date column properly set in MySQL database? also is the database timezone correctly set?
    - correctly set encoding on all tables
    - check if indexes are set correctly
    - use transactions (in update script)
    - use named parameters and pass data as object instead of array?
  - log unhandle exceptions and uncaught promises into file http://shapeshed.com/uncaught-exceptions-in-node/
  - node_modules folder only in debug mode?
  - tests
    - test express
    - test routes
    - test database
    - code coverage > 50%
    - synon.js to moc db/api calls?
    - selenium tests
      - with CI
      - periodically on distribution page
  - merge article and debugArticle routes so they reuse most of the logic
  - change /debug route to route configurable in deb config
  - node turn on 'use strict' by default?
  - decide when to use const x = () => {} and when to use function x () {}
  - prereload headers
  - redirect from /article/ to /article (301?)
  - 404
    - log 404s
    - recommend some content based on searched query
    - fix common typos?
    - http://jecas.cz/oprava-url
  - 500
    - add error handler to display 500 pages
    - add .catch on promises inside router to display 500?

- Frontend
  - highlight.js
    - locally host css file
    - only take css for languages that are really used
  - http://mozilla.github.io/nunjucks/templating.html#whitespace-control
  - minify scripts and css (debug mode in production still with unminified files)
  - minify article images
  - add favicon
  - pass paths as variable into templates?
  - load highlightjs css styles asynchronously
  - revisit rss feed items
  - sticky footer
  - add compilation process for static files
  - consider loading images with javascript with <noscript> fallback?
  - fine tune "published x days ago"
  - start using mixins css
    - http://zeke.sikelianos.com/css-from-the-future/
    - convert from typography variables to typography mixins
    - some resets mixins?
  - consider adding critical css
  - sprites for images/icons
  - provide rss1, rss2 and atom feeds
  - responsive images (srcset, image element), also generate these automatically
  - use sprites https://speakerdeck.com/bevacqua/high-performance-in-the-critical-path
  - have all relevant metatags, inspire with jecas.cz and ponyfoo.com
  - console easter egg, or perhaps something inside HTML? http://codepen.io/elijahmanor/pen/RPjeLz?editors=001
  - consider switching to async templating engine with streaing support (markojs by ebay, dustjs by linkedin)

## NICE TO HAVE
- switch to templating engine which supports streaming
- own comment system?
- evaluate switch from express to alternatives (koa, hapi)
  - once async/await hits node consider switching to koa2
  - https://github.com/llambda/koa-boiler (http2, caching...)
- serve static files from nginx

## LONG TERM
- once standard supports ES6 + Async/Await:
  - remove "standard" from package.json
  - remove "babel-eslint" dependency
- once we have object spread operator replace Object.assign in addCommonData function in routes.js
