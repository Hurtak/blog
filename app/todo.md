# TODO

## NEXT RELEASE
- think of how to structure articles
  - 3 empty rows between h2 headings?
  - indentation in code blocks?
  - indentation of code blocks bellow h3? or maybe close h3 + content blocks in section or something?
- remove markdown
- fix horizontal scroll bar appearing at the bottom of the page instead of bottom of the viewport
- finish transition to pure html
- finish components for code blocks
  - quotes
  - dl - dt dd
- fix http://i.imgur.com/uAfDukK.png
- markdown blocks for highlight
- do not put articles HTML into database, but in cache folder
- use standard fonts (arial..)
- add css reset and make it easy to turn off/on to see if everything has it's own style
- finish CSS design
  - inspiration
    - https://media-mediatemple.netdna-ssl.com/wp-content/uploads/2016/07/Material-I-II-opt.jpg
    - https://media-mediatemple.netdna-ssl.com/wp-content/uploads/2016/07/uefa-euro2016-belgium-opt.jpg
    - https://www.google.cz/search?hl=cs&tbm=isch&sa=1&q=mirrors+edge+interior
- buy domains
- put this damn thing on the internet
- add comments
- add google analytics

## FUTURE RELEASES
- General
  - progressively enhanced tweet quotations
  - write README.md
  - license for articles and license for app
  - sitemap
  - take a look at medium, what components they use in articles
  - fine tune humans.txt
  - run blog through
    - CSS and HTML validator
    - use some tool to detect unused styles
  - consider unification of quotes (html ", js ')
  - consider unification of coding style across technologies (camelCase JS, underscore_case MySQL, dash-case CSS)
  - take a look at ponyfoo.com for performance ideas
  - revisit package.json
  - tags to articles
  - projects page
  - about page
  - add search with suggest box
  - add aria stuff and accessibility stuff, also add that accessibility menu when you press tab
  - link to github/twitter
  - decide what categories to use in commit messages
  - check if we are not using sync (readFileSync) functions anywhere
  - figure if we could use 2 space indentaion in markdown files
    - https://github.com/markdown-it/markdown-it/issues/215
    - https://talk.commonmark.org/t/nested-ordered-lists-indented-with-2-spaces-are-broken/2064

- Articles
  - in parseArticle funtion have functions which checks article for correctness
    - check if paragraphs start with capital letter and end with dot
    - check of headings start with capital letter
    - check YAML header for correctness
    - and so on...
    - maybe refactor this into separate module?
    - maybe when checking html, when we find error -> add console.log describing the error
  - post all articles to hacker news, reddit, twitter
    - provide links under article to hacker news and twitter discussion
    - have these links saved in front matter
    - have cron job which determines number of comments on giver articles
    - display number of comments under
  - do not compile articles manually with script, compile them on the fly when requested
    - measure how long this takes
    - if it takes > 5ms, wrap the whole thing in caching function which will just save the result into file
  - add checks in upload script so it checks if
    - url's are unique
    - id's are unique
    - directory month/year fits the publication date directories
  - flatten directory structure, just use years directories
  - refactor styles
  - add article footer with
    - share on twitter and facebook
    - edit this article on github
      - or maybe what could be really cool would be if there was live edit and anyone could submit edit
    - similar articles and next article
  - refactor upload script, put id into articles so we have truly unique identificator?
  - parse article function uses readFileSync, rewrite to use promises/cb
  - replace @see links in code with my own articles
  - sub headings in articles -> automaticall generate id's for them - `<h2>How to?</h2>` -> `<h2 id="how-to">How-to?</h2>`
  - remove seconds from publication date (in article.md header)
  - article.md -> article.html

- Backend
  - https
  - https://www.sitepoint.com/how-to-create-a-node-js-cluster-for-speeding-up-your-apps/
  - fork processes to number of processors http://shapeshed.com/uncaught-exceptions-in-node/
  - log unhandle exceptions & uncaught promises into file http://shapeshed.com/uncaught-exceptions-in-node/
  - node_modules folder only in debug mode?
  - test express, routes, database
  - add code coverage to tests
  - merge article and debugArticle routes so they reuse most of the logic
  - change /debug route to route configurable in deb config
  - node turn on 'use strict' by default?
  - decide when to use const x = () => {} and when to use function x () {}
  - prereload headers
  - redirect from /article/ to /article (301?)
  - is the date column properly set in MySQL database? also is the database timezone correctly set?
  - 404
    - log 404s
    - recommend some content based on searched query
    - fix common typos?
    - http://jecas.cz/oprava-url
  - 500
    - add error handler to display 500 pages
    - add .catch on promises inside router to display 500?

- Frontend
  - highlight.js
    - locally host css file
    - only take css for languages that are really used
  - http://mozilla.github.io/nunjucks/templating.html#whitespace-control
  - minify scripts & css (debug mode in production still with unminified files)
  - minify article images
  - add favicon
  - pass paths as variable into templates?
  - load highlightjs css styles asynchronously
  - revisit rss feed items
  - sticky footer
  - add compilation process for static files
  - consider loading images with javascript with <noscript> fallback?
  - fine tune "published x days ago"
  - start using mixins css http://zeke.sikelianos.com/css-from-the-future/
  - consider adding critical css
  - sprites for images/icons
  - provide rss1, rss2 and atom feeds
  - responsive images (srcset, image element), also generate these automatically
  - use sprites https://speakerdeck.com/bevacqua/high-performance-in-the-critical-path
  - have all relevant metatags, inspire with jecas.cz and ponyfoo.com
  - console easter egg, or perhaps something inside HTML? http://codepen.io/elijahmanor/pen/RPjeLz?editors=001
  - consider switching to async templating engine with streaing support (markojs by ebay, dustjs by linkedin)

## NICE TO HAVE
- cron job to detect 404 links
- cron job to automatically git fetch changes & update new articles
- switch to templating engine which supports streaming
- own comment system?
- evaluate switch from express to alternatives (koa, hapi)
  - once async/await hits node consider switching to koa2
  - https://github.com/llambda/koa-boiler (http2, caching...)
- serve static files from nginx

## LONG TERM
- once standard supports ES6 + Async/Await:
  - remove "standard" from package.json
  - remove "babel-eslint" dependency
- once we have object spread operator replace Object.assign in addCommonData function in routes.js
